<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
  
  <mapper namespace="com.Team2Project.WorkWave.model.CompanyMapper">
  
  	<select id="docompanyLogin" resultType="cDTO" parameterType="String">
        select company_key, company_id, company_pwd from company where company_id = #{company_id}
    </select>
    
    <select id="companyIdCheck" resultType="cDTO" parameterType="String">
    	select * from company where company_id = #{company_id}
    </select>
    
    <insert id="insertCompany" parameterType="cDTO">
    	<selectKey keyProperty="company_key" resultType="int" order="BEFORE">
            SELECT max(company_key) FROM company
        </selectKey>
        INSERT INTO company (company_key, company_id, company_pwd, company_name, company_number, company_phone, company_addr, company_homepage, company_ceo, company_emp_count, company_sal, com_board_logo, company_regdate, company_mgr_name, company_mgr_phone, company_mgr_email, company_join_date, company_confirm) 
VALUES 
(#{company_key}+1, #{company_id}, #{company_pwd}, #{company_name}, #{company_number}, #{company_phone}, #{company_addr}, #{company_homepage}, #{company_ceo}, #{company_emp_count}, #{company_sal}, #{com_board_logo}, #{company_regdate,jdbcType=DATE}, #{company_mgr_name}, #{company_mgr_phone}, #{company_mgr_email}, sysdate, 'Y')
    </insert>
  
  </mapper>