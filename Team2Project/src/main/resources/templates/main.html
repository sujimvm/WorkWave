<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
<meta charset="UTF-8">
<link rel="icon" href="/image/icon/logo_icon.png"/>  
<title>Work Wave</title>
<link rel="stylesheet" th:href="@{/css/include.css}">
<link rel="stylesheet" th:href="@{/css/main.css}">
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script th:src="@{/js/main/list.js}"></script>
<link rel="stylesheet" th:href="@{/css/FAQ.css}">
</head>
<body>
	<div th:replace="~{include/header}"></div>
	<div layout:fragment="content" class="content">
		<div class="mainTopDiv">
			<div class="mainLoginInfo" sec:authorize="!isAuthenticated()" >
				<div class="containerLeft">
				    <div class="infoContent">
				        <h2>등록된 공고 건수</h2>
				        <p th:text="${ComBoardCount}"></p> 
				    </div>
				</div>
				<div class="containerRight">
				    <div class="infoContent">
				        <h2>등록된 회원 수</h2>
				        <p th:text="${UsersCount}"></p> 
				    </div>
				</div>
				<div class="containerLeft">
				    <div class="infoContent">
				        <h2>등록된 기업 수</h2>
				        <p th:text="${CompanyCount}"></p> 
				    </div>
				</div>
			</div>
			<div class="mainLoginInfo" sec:authorize="isAuthenticated() and hasRole('USER')">
				<h3 th:inline="text">[[${session.uDTO.user_name}]] 님 안녕하세요.</h3>
				<table class="main-user-table">
				<tr>
					<th>지원완료</th>
					<th>이력서 열람</th>
					<th>포지션 제안</th>
					<th>관심 기업</th>
				</tr>
				
				<tr>
					<th th:text="${applyCnt}">지원완료</th>
					<th th:text="${applyCheckCnt}">이력서 열람</th>
					<th th:text="${positionJean}">포지션 제안</th>
					<th th:text="${interest}">관심 기업</th>
				</tr>         
            </table>
			</div>
			<div class="mainLoginInfo" sec:authorize="isAuthenticated() and hasRole('COMPANY')">
				<h3 th:inline="text">[[${session.cDTO.company_name}]] 기업회원님 안녕하세요.</h3>
				<table class="main-company-table">
	            <tr>
	               <th>게재 중 공고</th>
	               <th>미열람 지원자</th>
	               <th>포지션 제안을 보낸 지원자 수</th>
	            </tr>
	            
	            <tr>
	               <th th:text="${comBoarding}">지원완료</th>
	               <th th:text="${applyNoneCheckCnt}">이력서 열람</th>
	               <th th:text="${positionCnt}">포지션 제안</th>
	            </tr>         
           	</table>
			</div>
			
			<div class="mainLoginNotice">
				<h3 align="center">공지사항</h3>
            		<ul class="main-notice-list">
		            	<li>
		            		<span style="width: 10%; text-align: center;">전체</span>
		            		<span style="width: 60%; margin-left: 5%;">제목</span>
		            		<span style="width: 30%; text-align: center;">날짜</span>
		            	</li>
		                <li th:each="notice : ${mainNoticeList}">
		                	<span style="color: #007BFF; width: 10%; text-align: center;" >공지</span>
		                    <a style="color: #000000; width: 60%; margin-left: 5%;" th:href="@{/A/noticeCont(no=${notice.notice_key})}" th:text="${notice.notice_title}"></a>
		                    <span style="width: 30%;" th:text="${notice.notice_date.substring(0, 10)}"></span>
		                </li>
		            </ul>
			</div>
			<div class="mainLoginAd">광고</div>
		</div>
		
		<div class="mainContentDiv">
			<div>
				<h3 class="mainListTitle">인기 공고</h3>
				<table id="mainJobHotListTb" class="mainListTb"></table>
			</div> <!-- 지원자가 많은 공고리스트 -->

			<br>
			
			<div>
				<h3 class="mainListTitle">마감 공고</h3>
				<table id="mainJobTimeListTb" class="mainListTb"></table>
			</div> <!-- 남은시간 별 공고리스트 -->
			
			<br>
			
			<div>
				<h3 class="mainListTitle">최신 공고</h3>
				<table id="mainJobNewListTb" class="mainListTb"></table>
			</div> <!-- 최근에 올라온 공고리스트 -->
		</div>
		
	</div>
	<div th:replace="~{include/footer :: footer}"></div>
</body>
</html>